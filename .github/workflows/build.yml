name: Build App

on:
  push:
    branches:
      - main  # 当main分支有推送时触发工作流

jobs:
  build:
    runs-on: macos-latest  # 在最新的macOS系统上运行

    steps:
      - name: Checkout code
        uses: actions/checkout@v3  # 检出代码到工作目录

      - name: Install dependencies
        run: |
          brew install python  # 安装Python（如果系统中没有）
          pip install briefcase  # 安装Briefcase

      - name: Build app
        run: |
          briefcase new  # 创建新的Briefcase项目（会有交互式提示，按提示填写信息）
          briefcase build macos  # 打包成macOS的.app文件